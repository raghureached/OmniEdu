<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Time Management Training (1.2)</title>
<style>
body { font-family: Arial, sans-serif; margin: 40px; background: #f9f9f9; color: #333; }
h1 { color: #0077b6; }
button { background: #0077b6; color: white; padding: 10px 15px; border: none; border-radius: 5px; cursor: pointer; }
button:hover { background: #005f87; }
.slide { display: none; }
.active { display: block; }
</style>

  <script>
  (function () {
    const rid = "695e0eb811d764ab8363d857";
    window.API = {
      LMSInitialize: function () {
        fetch("/api/scorm/initialize", { method: "POST" });
        return "true";
      },
      LMSGetValue: function (key) {
        return fetch("/api/scorm/value?registrationId=" + rid + "&key=" + key)
          .then(r => r.json())
          .then(d => d.value || "");
      },
      LMSSetValue: function (key, value) {
        fetch("/api/scorm/value", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ registrationId: rid, key, value })
        });
        return "true";
      },
      LMSCommit: function () {
        fetch("/api/scorm/commit", { method: "POST" });
        return "true";
      },
      LMSFinish: function () {
        fetch("/api/scorm/finish", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ registrationId: rid })
        });
        return "true";
      }
    };
  })();
  </script>
  </head>
<body>
<div id="slides">

        <div class="slide" id="slide0">
            <h1>Introduction to Time Management</h1>
            <p>Time management is the process of organizing and planning how to divide your time between specific activities. Good time management enables you to work smarter, not harder.</p>
            <br>
            <button onclick="prevSlide()" style="display:none;">Previous</button>
            <button onclick="nextSlide()" >Next</button>
        </div>
        
        <div class="slide" id="slide1">
            <h1>Setting Priorities</h1>
            <p>Prioritizing helps you focus on the most important tasks. Use tools like the Eisenhower Matrix to identify what’s urgent and important.</p>
            <br>
            <button onclick="prevSlide()" >Previous</button>
            <button onclick="nextSlide()" >Next</button>
        </div>
        
        <div class="slide" id="slide2">
            <h1>Avoiding Procrastination</h1>
            <p>Procrastination reduces productivity. Break large tasks into smaller ones, and use the ‘Pomodoro Technique’ to maintain focus.</p>
            <br>
            <button onclick="prevSlide()" >Previous</button>
            <button onclick="nextSlide()" >Next</button>
        </div>
        
        <div class="slide" id="slide3">
            <h1>Quiz: Question 1</h1>
            <p>What is the first step in effective time management?</p><input type='radio' name='q1' value='a'> Avoid planning<br><input type='radio' name='q1' value='b'> Set clear goals<br><input type='radio' name='q1' value='c'> Ignore deadlines<br>
            <br>
            <button onclick="prevSlide()" >Previous</button>
            <button onclick="nextSlide()" >Next</button>
        </div>
        
        <div class="slide" id="slide4">
            <h1>Quiz: Question 2</h1>
            <p>The Eisenhower Matrix helps in:</p><input type='radio' name='q2' value='a'> Delegating tasks<br><input type='radio' name='q2' value='b'> Prioritizing tasks<br><input type='radio' name='q2' value='c'> Creating budgets<br>
            <br>
            <button onclick="prevSlide()" >Previous</button>
            <button onclick="nextSlide()" >Next</button>
        </div>
        
        <div class="slide" id="slide5">
            <h1>Quiz: Question 3</h1>
            <p>Which of the following improves productivity?</p><input type='radio' name='q3' value='a'> Multitasking<br><input type='radio' name='q3' value='b'> Taking regular breaks<br><input type='radio' name='q3' value='c'> Procrastinating<br>
            <br>
            <button onclick="prevSlide()" >Previous</button>
            <button onclick="nextSlide()" id="nextBtn">Submit</button>
        </div>
        
</div>
<div id="result" style="display:none;">
    <h2>Your Score: <span id="score"></span>%</h2>
    <p id="message"></p>
</div>
<script>
let current = 0;
const slides = document.querySelectorAll('.slide');

function showSlide(index) {
    slides.forEach((s) => s.classList.remove('active'));
    slides[index].classList.add('active');
    // hide/show buttons on edges
    const prevButtons = slides[index].querySelectorAll('button[onclick="prevSlide()"]');
    prevButtons.forEach(b => b.style.display = index === 0 ? 'none' : 'inline-block');
}

function nextSlide() {
    if (current < slides.length - 1) {
        current++;
        showSlide(current);
        // change last slide's button text to "Submit Quiz" for clarity
        if (current === slides.length - 1) {
            const lastNext = document.getElementById('nextBtn');
            if (lastNext) lastNext.textContent = 'Submit Quiz';
        }
    } else {
        submitQuiz();
    }
}

function prevSlide() {
    if (current > 0) {
        current--;
        showSlide(current);
    }
}

function submitQuiz() {
    let score = 0;
    try {
        if (document.querySelector('input[name="q1"]:checked')?.value === "b") score++;
        if (document.querySelector('input[name="q2"]:checked')?.value === "b") score++;
        if (document.querySelector('input[name="q3"]:checked')?.value === "b") score++;
    } catch(e){}
    let percent = (score / 3) * 100;
    document.getElementById("slides").style.display = "none";
    document.getElementById("result").style.display = "block";
    document.getElementById("score").innerText = percent;
    let passed = percent >= 70;
    document.getElementById("message").innerText = passed ? "Congratulations! You passed!" : "Please review and try again.";
    try {
        var api = window.API || window.parent.API || window.parent.parent.API;
        if (api) {
            if (api.LMSSetValue) api.LMSSetValue("cmi.core.score.raw", percent);
            if (api.LMSSetValue) api.LMSSetValue("cmi.core.lesson_status", passed ? "passed" : "failed");
            if (api.Commit) api.Commit("");
            if (api.LMSCommit) api.LMSCommit("");
        }
    } catch (e){}
}

// initialize
showSlide(0);
</script>
</body>
</html>